<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>ms2vmapdb</title>
<link rel="stylesheet" href="manpages.css" type="text/css" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:root@localhost" />
</head>

<body>



<ul id="index">
  <li><a href="#NAME">NAME</a></li>
  <li><a href="#SYNOPSIS">SYNOPSIS</a></li>
  <li><a href="#GENERAL-OPTIONS">GENERAL OPTIONS:</a></li>
  <li><a href="#ACTIONS">ACTIONS:</a></li>
  <li><a href="#CREATE----CREATE-VMAP2-DATABASE">CREATE -- CREATE VMAP2 DATABASE</a></li>
  <li><a href="#SYNOPSIS1">SYNOPSIS</a></li>
  <li><a href="#DELETE----DELETE-VMAP2-DATABASE">DELETE -- DELETE VMAP2 DATABASE</a></li>
  <li><a href="#SYNOPSIS2">SYNOPSIS</a></li>
  <li><a href="#REBUILD_GH----REBUILD-GEOHASHES-FOR-VMAP2-DATABASE">REBUILD_GH -- REBUILD GEOHASHES FOR VMAP2 DATABASE</a></li>
  <li><a href="#SYNOPSIS3">SYNOPSIS</a></li>
  <li><a href="#DUMP_GH----DUMP-GEOHASHES-FOR-VMAP2-DATABASE">DUMP_GH -- DUMP GEOHASHES FOR VMAP2 DATABASE</a></li>
  <li><a href="#SYNOPSIS4">SYNOPSIS</a></li>
  <li><a href="#ADD_OBJ----ADD-NEW-OBJECT-TO-VMAP2-DATABASE-PRINT-ID">ADD_OBJ -- ADD NEW OBJECT TO VMAP2 DATABASE, PRINT ID</a></li>
  <li><a href="#SYNOPSIS5">SYNOPSIS</a>
    <ul>
      <li><a href="#Options">Options</a></li>
    </ul>
  </li>
  <li><a href="#TYPES----PRINT-ALL-OBJECT-TYPES-IN-VMAP2-DATABASE">TYPES -- PRINT ALL OBJECT TYPES IN VMAP2 DATABASE</a></li>
  <li><a href="#SYNOPSIS6">SYNOPSIS</a></li>
  <li><a href="#BBOX----PRINT-BOUNDING-BOX-OF-THE-MAP-USING-GEOHASH-DATA">BBOX -- PRINT BOUNDING BOX OF THE MAP (USING GEOHASH DATA)</a></li>
  <li><a href="#SYNOPSIS7">SYNOPSIS</a></li>
  <li><a href="#UPDATE_LABELS----UPDATE-LABELS">UPDATE_LABELS -- UPDATE LABELS</a></li>
  <li><a href="#SYNOPSIS8">SYNOPSIS</a>
    <ul>
      <li><a href="#Options1">Options:</a></li>
    </ul>
  </li>
  <li><a href="#CROP_NOM----CROP-TO-NOMENCLATURE-MAP-PAGE">CROP_NOM -- CROP TO NOMENCLATURE MAP PAGE</a></li>
  <li><a href="#SYNOPSIS9">SYNOPSIS</a></li>
  <li><a href="#CROP_RECT----CROP-TO-RECTANGULAR-RANGE">CROP_RECT -- CROP TO RECTANGULAR RANGE</a></li>
  <li><a href="#SYNOPSIS10">SYNOPSIS</a></li>
  <li><a href="#IMPORT----IMPORT-OBJECTS-TO-VMAP2-DATABASE">IMPORT -- IMPORT OBJECTS TO VMAP2 DATABASE</a></li>
  <li><a href="#SYNOPSIS11">SYNOPSIS</a>
    <ul>
      <li><a href="#Options2">Options:</a></li>
      <li><a href="#Options-for-reading-VMAP-format">Options for reading VMAP format:</a></li>
      <li><a href="#Options-for-reading-MP-format">Options for reading MP format:</a></li>
      <li><a href="#Options-for-reading-FIG-format">Options for reading FIG format:</a></li>
      <li><a href="#Options-for-reading-OSM_XML-format">Options for reading OSM_XML format:</a></li>
    </ul>
  </li>
  <li><a href="#EXPORT----EXPORT-VECTOR-MAP-TO-A-DIFFERENT-FORMAT">EXPORT -- EXPORT VECTOR MAP TO A DIFFERENT FORMAT</a></li>
  <li><a href="#SYNOPSIS12">SYNOPSIS</a>
    <ul>
      <li><a href="#Options3">Options:</a></li>
      <li><a href="#Options-for-writing-MP-format">Options for writing MP format:</a></li>
      <li><a href="#Options-for-writing-FIG-format">Options for writing FIG format:</a></li>
    </ul>
  </li>
  <li><a href="#AUTHOR">AUTHOR</a></li>
  <li><a href="#SEE-ALSO">SEE ALSO</a></li>
</ul>

<h1 id="NAME">NAME</h1>

<p>ms2vmapdb -- working with vector map database</p>

<h1 id="SYNOPSIS">SYNOPSIS</h1>

<pre><code>ms2vmapdb (-h|--help|--pod)

ms2vmapdb &lt;action&gt; (-h|--help)

ms2vmapdb &lt;action&gt; [&lt;action arguments and options&gt;]</code></pre>

<h1 id="GENERAL-OPTIONS">GENERAL OPTIONS:</h1>

<dl>

<dt id="h---help"><b>-h, --help</b></dt>
<dd>

<p>Show help message.</p>

</dd>
<dt id="pod"><b>--pod</b></dt>
<dd>

<p>Show help message as POD template.</p>

</dd>
</dl>

<h1 id="ACTIONS">ACTIONS:</h1>

<pre><code>ms2vmapdb create -- create vmap2 database

ms2vmapdb delete -- delete vmap2 database

ms2vmapdb rebuild_gh -- rebuild geohashes for vmap2 database

ms2vmapdb dump_gh -- dump geohashes for vmap2 database

ms2vmapdb add_obj -- add new object to vmap2 database, print id

ms2vmapdb types -- print all object types in vmap2 database

ms2vmapdb bbox -- print bounding box of the map (using geohash data)

ms2vmapdb update_labels -- update labels

ms2vmapdb crop_nom -- crop to nomenclature map page

ms2vmapdb crop_rect -- crop to rectangular range

ms2vmapdb import -- import objects to vmap2 database

ms2vmapdb export -- export vector map to a different format</code></pre>

<h1 id="CREATE----CREATE-VMAP2-DATABASE">CREATE -- CREATE VMAP2 DATABASE</h1>

<h1 id="SYNOPSIS1">SYNOPSIS</h1>

<pre><code>ms2vmap create &lt;dbname&gt;</code></pre>

<p>Create vmap2 database. &lt;dbname&gt; is a database name with or without .vmap2db extension.</p>

<h1 id="DELETE----DELETE-VMAP2-DATABASE">DELETE -- DELETE VMAP2 DATABASE</h1>

<h1 id="SYNOPSIS2">SYNOPSIS</h1>

<pre><code>ms2vmap delete &lt;dbname&gt;</code></pre>

<p>Delete vmap2 database. &lt;dbname&gt; is a database name with or without .vmap2db extension.</p>

<h1 id="REBUILD_GH----REBUILD-GEOHASHES-FOR-VMAP2-DATABASE">REBUILD_GH -- REBUILD GEOHASHES FOR VMAP2 DATABASE</h1>

<h1 id="SYNOPSIS3">SYNOPSIS</h1>

<pre><code>ms2vmap rebuild_gh &lt;dbname&gt;</code></pre>

<h1 id="DUMP_GH----DUMP-GEOHASHES-FOR-VMAP2-DATABASE">DUMP_GH -- DUMP GEOHASHES FOR VMAP2 DATABASE</h1>

<h1 id="SYNOPSIS4">SYNOPSIS</h1>

<pre><code>ms2vmap dump_gh &lt;dbname&gt;</code></pre>

<h1 id="ADD_OBJ----ADD-NEW-OBJECT-TO-VMAP2-DATABASE-PRINT-ID">ADD_OBJ -- ADD NEW OBJECT TO VMAP2 DATABASE, PRINT ID</h1>

<h1 id="SYNOPSIS5">SYNOPSIS</h1>

<pre><code>ms2vmap add_obj &lt;dbname&gt; &lt;object_type&gt; &lt;coordinates&gt;</code></pre>

<h2 id="Options">Options</h2>

<dl>

<dt id="n---name-arg"><b>-n, --name &lt;arg&gt;</b></dt>
<dd>

<p>Specify object name.</p>

</dd>
<dt id="c---comm-arg"><b>-c, --comm &lt;arg&gt;</b></dt>
<dd>

<p>Specify object comment.</p>

</dd>
<dt id="a---angle-arg"><b>-a, --angle &lt;arg&gt;</b></dt>
<dd>

<p>Specify object angle.</p>

</dd>
<dt id="s---scale-arg"><b>-s, --scale &lt;arg&gt;</b></dt>
<dd>

<p>Specify object scale.</p>

</dd>
<dt id="A---align-arg"><b>-A, --align &lt;arg&gt;</b></dt>
<dd>

<p>Specify object alignment (NW,N,NE,E,SE,S,SW,C).</p>

</dd>
<dt id="ref_type-arg"><b>--ref_type &lt;arg&gt;</b></dt>
<dd>

<p>Specify ref_type.</p>

</dd>
<dt id="ref_pt-arg"><b>--ref_pt &lt;arg&gt;</b></dt>
<dd>

<p>Specify ref_pt.</p>

</dd>
</dl>

<h1 id="TYPES----PRINT-ALL-OBJECT-TYPES-IN-VMAP2-DATABASE">TYPES -- PRINT ALL OBJECT TYPES IN VMAP2 DATABASE</h1>

<h1 id="SYNOPSIS6">SYNOPSIS</h1>

<pre><code>ms2vmap types &lt;dbname&gt;</code></pre>

<h1 id="BBOX----PRINT-BOUNDING-BOX-OF-THE-MAP-USING-GEOHASH-DATA">BBOX -- PRINT BOUNDING BOX OF THE MAP (USING GEOHASH DATA)</h1>

<h1 id="SYNOPSIS7">SYNOPSIS</h1>

<pre><code>ms2vmap bbox &lt;dbname&gt;</code></pre>

<h1 id="UPDATE_LABELS----UPDATE-LABELS">UPDATE_LABELS -- UPDATE LABELS</h1>

<h1 id="SYNOPSIS8">SYNOPSIS</h1>

<pre><code>ms2vmap update_labels &lt;dbname&gt; -t &lt;typeinfo file&gt;</code></pre>

<h2 id="Options1">Options:</h2>

<dl>

<dt id="t---types-arg"><b>-t, --types &lt;arg&gt;</b></dt>
<dd>

<p>File with type information. Default: /usr/share/mapsoft2/types.cfg</p>

</dd>
<dt id="D---define-arg"><b>-D, --define &lt;arg&gt;</b></dt>
<dd>

<p>Define variables for type information file.</p>

</dd>
</dl>

<h1 id="CROP_NOM----CROP-TO-NOMENCLATURE-MAP-PAGE">CROP_NOM -- CROP TO NOMENCLATURE MAP PAGE</h1>

<h1 id="SYNOPSIS9">SYNOPSIS</h1>

<pre><code>ms2vmap crop_nom &lt;dbname&gt; &lt;nom name&gt;</code></pre>

<dl>

<dt id="n---crop_labels-arg"><b>-n, --crop_labels &lt;arg&gt;</b></dt>
<dd>

<p>Crop labels. Values: 0 or 1, default 0.</p>

</dd>
</dl>

<h1 id="CROP_RECT----CROP-TO-RECTANGULAR-RANGE">CROP_RECT -- CROP TO RECTANGULAR RANGE</h1>

<h1 id="SYNOPSIS10">SYNOPSIS</h1>

<pre><code>ms2vmap crop_rect &lt;dbname&gt; &lt;rectangle&gt;</code></pre>

<dl>

<dt id="n---crop_labels-arg1"><b>-n, --crop_labels &lt;arg&gt;</b></dt>
<dd>

<p>Crop labels. Values: 0 or 1, default 0.</p>

</dd>
</dl>

<h1 id="IMPORT----IMPORT-OBJECTS-TO-VMAP2-DATABASE">IMPORT -- IMPORT OBJECTS TO VMAP2 DATABASE</h1>

<h1 id="SYNOPSIS11">SYNOPSIS</h1>

<pre><code>ms2vmap import &lt;file1&gt; &lt;file2&gt; ... -o &lt;dbname&gt; -t &lt;type info file&gt;</code></pre>

<p>Read map objects in different formats and add to a database.</p>

<h2 id="Options2">Options:</h2>

<dl>

<dt id="o---out-arg"><b>-o, --out &lt;arg&gt;</b></dt>
<dd>

<p>Output file.</p>

</dd>
<dt id="t---types-arg1"><b>-t, --types &lt;arg&gt;</b></dt>
<dd>

<p>File with type information. Default: /usr/share/mapsoft2/types.cfg</p>

</dd>
<dt id="D---define-arg1"><b>-D, --define &lt;arg&gt;</b></dt>
<dd>

<p>Define variables for type information file.</p>

</dd>
<dt id="q---quite-arg"><b>-q, --quite &lt;arg&gt;</b></dt>
<dd>

<p>Be quiet, do not print types of skipped objects. Default: 0. This works when reading/writing MP, VMAP, writing FIG.</p>

</dd>
<dt id="skip_unknown-arg"><b>--skip_unknown &lt;arg&gt;</b></dt>
<dd>

<p>Skip objects which are not defined in typeinfo file. Default: 0. This works when reading/writing MP, VMAP.</p>

</dd>
<dt id="trk_type-arg"><b>--trk_type &lt;arg&gt;</b></dt>
<dd>

<p>select type for GPX waypoint import/export</p>

</dd>
<dt id="wpt_type-arg"><b>--wpt_type &lt;arg&gt;</b></dt>
<dd>

<p>select type for GPX track import/export</p>

</dd>
<dt id="wpt_pref-arg"><b>--wpt_pref &lt;arg&gt;</b></dt>
<dd>

<p>prefix for waypoint names (names w/o prefix are skipped). Default: &quot;=&quot;</p>

</dd>
</dl>

<h2 id="Options-for-reading-VMAP-format">Options for reading VMAP format:</h2>

<dl>

<dt id="def_label_type-arg"><b>--def_label_type &lt;arg&gt;</b></dt>
<dd>

<p>When reading VMAP file, set type number for labels which are not defined in typeinfo file. Use -1 to skip unknown labels (default). If skip_unknown is set then labels are skipped with unknown objects.</p>

</dd>
</dl>

<h2 id="Options-for-reading-MP-format">Options for reading MP format:</h2>

<h2 id="Options-for-reading-FIG-format">Options for reading FIG format:</h2>

<dl>

<dt id="min_depth-arg"><b>--min_depth &lt;arg&gt;</b></dt>
<dd>

<p>minimum depth of map object (default 40)</p>

</dd>
<dt id="max_depth-arg"><b>--max_depth &lt;arg&gt;</b></dt>
<dd>

<p>minimum depth of map object (default 200)</p>

</dd>
<dt id="fig_enc-arg"><b>--fig_enc &lt;arg&gt;</b></dt>
<dd>

<p>Encoding for reading/writing fig files (default: KOI8-R). When reading utf8 files with a special comment (made by xfig&gt;3.2.9) this option is ignored.</p>

</dd>
</dl>

<h2 id="Options-for-reading-OSM_XML-format">Options for reading OSM_XML format:</h2>

<dl>

<dt id="osm_conf-arg"><b>--osm_conf &lt;arg&gt;</b></dt>
<dd>

<p>Configuration file for OSM XML -&gt; VMAP2 conversion</p>

</dd>
<dt id="osm_ids"><b>--osm_ids</b></dt>
<dd>

<p>Put OSM IDs in object comments</p>

</dd>
<dt id="osm_tags"><b>--osm_tags</b></dt>
<dd>

<p>Put OSM tags in object comments</p>

</dd>
</dl>

<h1 id="EXPORT----EXPORT-VECTOR-MAP-TO-A-DIFFERENT-FORMAT">EXPORT -- EXPORT VECTOR MAP TO A DIFFERENT FORMAT</h1>

<h1 id="SYNOPSIS12">SYNOPSIS</h1>

<pre><code>ms2vmap export &lt;dbname&gt; -o &lt;out file&gt; [&lt;options&gt;]</code></pre>

<p>Supported formats: vmap2, vmap2db, vmap, mp, fig</p>

<h2 id="Options3">Options:</h2>

<dl>

<dt id="o---out-arg1"><b>-o, --out &lt;arg&gt;</b></dt>
<dd>

<p>Output file.</p>

</dd>
<dt id="t---types-arg2"><b>-t, --types &lt;arg&gt;</b></dt>
<dd>

<p>File with type information. Default: /usr/share/mapsoft2/types.cfg</p>

</dd>
<dt id="D---define-arg2"><b>-D, --define &lt;arg&gt;</b></dt>
<dd>

<p>Define variables for type information file.</p>

</dd>
<dt id="q---quite-arg1"><b>-q, --quite &lt;arg&gt;</b></dt>
<dd>

<p>Be quiet, do not print types of skipped objects. Default: 0. This works when reading/writing MP, VMAP, writing FIG.</p>

</dd>
<dt id="skip_unknown-arg1"><b>--skip_unknown &lt;arg&gt;</b></dt>
<dd>

<p>Skip objects which are not defined in typeinfo file. Default: 0. This works when reading/writing MP, VMAP.</p>

</dd>
<dt id="trk_type-arg1"><b>--trk_type &lt;arg&gt;</b></dt>
<dd>

<p>select type for GPX waypoint import/export</p>

</dd>
<dt id="wpt_type-arg1"><b>--wpt_type &lt;arg&gt;</b></dt>
<dd>

<p>select type for GPX track import/export</p>

</dd>
<dt id="wpt_pref-arg1"><b>--wpt_pref &lt;arg&gt;</b></dt>
<dd>

<p>prefix for waypoint names (names w/o prefix are skipped). Default: &quot;=&quot;</p>

</dd>
<dt id="crop_nom-arg"><b>--crop_nom &lt;arg&gt;</b></dt>
<dd>

<p>Crop map to nomenclature region.</p>

</dd>
<dt id="crop_nom_fi-arg"><b>--crop_nom_fi &lt;arg&gt;</b></dt>
<dd>

<p>Crop map to Finnish nomenclature region.</p>

</dd>
<dt id="crop_rect-arg"><b>--crop_rect &lt;arg&gt;</b></dt>
<dd>

<p>Crop map to a rectangle.</p>

</dd>
<dt id="crop_labels-arg"><b>--crop_labels &lt;arg&gt;</b></dt>
<dd>

<p>By default crop_* commands are not applied to labels. This option can change it. Values: 0 or 1, default: 0.</p>

</dd>
<dt id="update_labels-arg"><b>--update_labels &lt;arg&gt;</b></dt>
<dd>

<p>Update labels (0|1): find labels for each object, add missing labels, remove labels without objects, update label type, name, and reference. Values: 0 or 1, default: 0.</p>

</dd>
<dt id="label_names-arg"><b>--label_names &lt;arg&gt;</b></dt>
<dd>

<p>When updating labels, get names from labels, not from objects. Useful for updating map from a source (e.g. gpx) where names are missing.Values: 0 or 1, default: 0.</p>

</dd>
<dt id="keep_labels-arg"><b>--keep_labels &lt;arg&gt;</b></dt>
<dd>

<p>Keep old labels. Values: 0 or 1, default: 0.</p>

</dd>
<dt id="replace_source-arg"><b>--replace_source &lt;arg&gt;</b></dt>
<dd>

<p>Replace objects with a given Source=&lt;src&gt; option.</p>

</dd>
<dt id="replace_type-arg"><b>--replace_type &lt;arg&gt;</b></dt>
<dd>

<p>Replace objects with a given type.</p>

</dd>
<dt id="replace_types-arg"><b>--replace_types &lt;arg&gt;</b></dt>
<dd>

<p>Replace objects with all types which exist in input files. Values: 0 or 1, default: 0.</p>

</dd>
<dt id="fix_rounding-arg"><b>--fix_rounding &lt;arg&gt;</b></dt>
<dd>

<p>Fix rounding errors using information from the output file. This should be used when editing map in fig format and then returning changes to other format. Then untached points are detected and rounding errors fixed.</p>

</dd>
<dt id="rounding_acc-arg"><b>--rounding_acc &lt;arg&gt;</b></dt>
<dd>

<p>accuracy for fixing rounding errors (m). Fig accuracy is 1/450 cm, 2.2 m for 1:100&#39;000 maps. Default: 5</p>

</dd>
<dt id="join_lines"><b>--join_lines</b></dt>
<dd>

<p>join similar line objects (same type, name, comment, tags)</p>

</dd>
<dt id="join_lines_d-arg"><b>--join_lines_d &lt;arg&gt;</b></dt>
<dd>

<p>Max distance for joining lines in meters. Default 5.</p>

</dd>
<dt id="join_lines_a-arg"><b>--join_lines_a &lt;arg&gt;</b></dt>
<dd>

<p>Max angle for joining lines in degrees. Default 45.</p>

</dd>
<dt id="filter_pts"><b>--filter_pts</b></dt>
<dd>

<p>Reduce number of points in lines and polygons.</p>

</dd>
<dt id="filter_pts_d-arg"><b>--filter_pts_d &lt;arg&gt;</b></dt>
<dd>

<p>Accuracy for point filtering in meters. Default: 10</p>

</dd>
</dl>

<h2 id="Options-for-writing-MP-format">Options for writing MP format:</h2>

<dl>

<dt id="mp_id-arg"><b>--mp_id &lt;arg&gt;</b></dt>
<dd>

<p>override MP ID</p>

</dd>
<dt id="mp_name-arg"><b>--mp_name &lt;arg&gt;</b></dt>
<dd>

<p>override MP Name</p>

</dd>
<dt id="mp_levels-arg"><b>--mp_levels &lt;arg&gt;</b></dt>
<dd>

<p>set mp data levels (comma-separated integers), default: &quot;24,22,20,18,17,15&quot;.</p>

</dd>
<dt id="mp_cp-arg"><b>--mp_cp &lt;arg&gt;</b></dt>
<dd>

<p>codepage for MP files (default 1251)</p>

</dd>
</dl>

<h2 id="Options-for-writing-FIG-format">Options for writing FIG format:</h2>

<dl>

<dt id="min_depth-arg1"><b>--min_depth &lt;arg&gt;</b></dt>
<dd>

<p>minimum depth of map object (default 40)</p>

</dd>
<dt id="max_depth-arg1"><b>--max_depth &lt;arg&gt;</b></dt>
<dd>

<p>minimum depth of map object (default 200)</p>

</dd>
<dt id="fig_enc-arg1"><b>--fig_enc &lt;arg&gt;</b></dt>
<dd>

<p>Encoding for reading/writing fig files (default: KOI8-R). When reading utf8 files with a special comment (made by xfig&gt;3.2.9) this option is ignored.</p>

</dd>
</dl>

<h1 id="AUTHOR">AUTHOR</h1>

<p>Vladislav Zavjalov &lt;slazav@altlinux.org&gt;</p>

<h1 id="SEE-ALSO">SEE ALSO</h1>

<ul>

<li><p><a href="http://slazav.github.io/mapsoft2">Mapsoft2 documentation (ru, en)</a></p>

</li>
<li><p><a href="http://github.com/slazav/mapsoft2">Mapsoft2 source code, bugtracker</a></p>

</li>
<li><p><a href="http://github.com/ushakov/mapsoft">Old Mapsoft project</a></p>

</li>
</ul>


</body>

</html>


