<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>ms2geofig</title>
<link rel="stylesheet" href="manpages.css" type="text/css" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:root@localhost" />
</head>

<body>



<ul id="index">
  <li><a href="#NAME">NAME</a></li>
  <li><a href="#SYNOPSIS">SYNOPSIS</a></li>
  <li><a href="#GENERAL-OPTIONS">GENERAL OPTIONS:</a></li>
  <li><a href="#ACTIONS">ACTIONS:</a></li>
  <li><a href="#CREATE----CREATE-REFERENCED-FIG-FILE">CREATE -- CREATE REFERENCED FIG FILE</a></li>
  <li><a href="#SYNOPSIS1">SYNOPSIS</a>
    <ul>
      <li><a href="#Options-for-making-reference">Options for making reference:</a></li>
      <li><a href="#Options-for-writing-fig-file">Options for writing fig file:</a></li>
    </ul>
  </li>
  <li><a href="#EXAMPLES">EXAMPLES:</a></li>
  <li><a href="#ADD----ADD-GEODATA-TRACKS-WAYPOINTS-MAPS-TO-REFERENCED-FIG-FILE">ADD -- ADD GEODATA (TRACKS, WAYPOINTS, MAPS) TO REFERENCED FIG FILE</a></li>
  <li><a href="#SYNOPSIS2">SYNOPSIS</a>
    <ul>
      <li><a href="#Options-for-reading-data">Options for reading data:</a></li>
      <li><a href="#Options-for-writing-fig-file1">Options for writing fig file:</a></li>
    </ul>
  </li>
  <li><a href="#EXAMPLES1">EXAMPLES:</a></li>
  <li><a href="#DEL----DELETE-GEODATA-TO-REFERENCED-FIG-FILE">DEL -- DELETE GEODATA TO REFERENCED FIG FILE</a></li>
  <li><a href="#SYNOPSIS3">SYNOPSIS</a>
    <ul>
      <li><a href="#Options-for-selecting-data">Options for selecting data:</a></li>
      <li><a href="#Options-for-writing-fig-file2">Options for writing fig file:</a></li>
    </ul>
  </li>
  <li><a href="#GET----EXTRACT-GEODATA-FROM-FIG-FILE">GET -- EXTRACT GEODATA FROM FIG FILE</a></li>
  <li><a href="#SYNOPSIS4">SYNOPSIS</a>
    <ul>
      <li><a href="#Options-for-selecting-data1">Options for selecting data:</a></li>
      <li><a href="#Options-for-writing-geodata-file">Options for writing geodata file:</a></li>
    </ul>
  </li>
  <li><a href="#SRTM----ADD-DEM-DATA-TO-REFERENCED-FIG-FILE">SRTM -- ADD DEM DATA TO REFERENCED FIG FILE</a></li>
  <li><a href="#SYNOPSIS5">SYNOPSIS</a>
    <ul>
      <li><a href="#Options-for-writing-DEM-data">Options for writing DEM data:</a></li>
      <li><a href="#Options-for-writing-fig-file3">Options for writing fig file:</a></li>
    </ul>
  </li>
  <li><a href="#MAKE_REF----MAKE-FIG-REFERENCE-USING-MATCHING-GEODATA">MAKE_REF -- MAKE FIG REFERENCE USING MATCHING GEODATA</a></li>
  <li><a href="#SYNOPSIS6">SYNOPSIS</a>
    <ul>
      <li><a href="#Options-for-reading-data1">Options for reading data:</a></li>
      <li><a href="#Options-for-writing-fig-file4">Options for writing fig file:</a></li>
    </ul>
  </li>
  <li><a href="#AUTHOR">AUTHOR</a></li>
  <li><a href="#SEE-ALSO">SEE ALSO</a></li>
</ul>

<h1 id="NAME">NAME</h1>

<p>ms2geofig -- working with geo-referenced fig files</p>

<h1 id="SYNOPSIS">SYNOPSIS</h1>

<pre><code>ms2geofig (-h|--help|--pod)

ms2geofig &lt;action&gt; (-h|--help)

ms2geofig &lt;action&gt; [&lt;action arguments and options&gt;]</code></pre>

<h1 id="GENERAL-OPTIONS">GENERAL OPTIONS:</h1>

<dl>

<dt id="h---help"><b>-h, --help</b></dt>
<dd>

<p>Show help message.</p>

</dd>
<dt id="pod"><b>--pod</b></dt>
<dd>

<p>Show help message as POD template.</p>

</dd>
</dl>

<h1 id="ACTIONS">ACTIONS:</h1>

<pre><code>ms2geofig create -- create referenced fig file

ms2geofig add -- add geodata (tracks, waypoints, maps) to referenced fig file

ms2geofig del -- delete geodata to referenced fig file

ms2geofig get -- extract geodata from fig file

ms2geofig srtm -- add DEM data to referenced fig file

ms2geofig make_ref -- make fig reference using matching geodata</code></pre>

<h1 id="CREATE----CREATE-REFERENCED-FIG-FILE">CREATE -- CREATE REFERENCED FIG FILE</h1>

<h1 id="SYNOPSIS1">SYNOPSIS</h1>

<pre><code>ms2vmap create [&lt;options&gt;] -o &lt;output file&gt;</code></pre>

<h2 id="Options-for-making-reference">Options for making reference:</h2>

<dl>

<dt id="mkref-arg"><b>--mkref &lt;arg&gt;</b></dt>
<dd>

<p>Choose map type (nom, nom_fi, google_tile, tms_tile, proj, file)</p>

</dd>
<dt id="name-arg"><b>--name &lt;arg&gt;</b></dt>
<dd>

<p>Set map name. For nom and nom_fi maps it should contain a valid nomenclature name. For --mkref=&quot;file&quot; it should contain map-file name.</p>

</dd>
<dt id="dpi-arg"><b>--dpi &lt;arg&gt;</b></dt>
<dd>

<p>Map resolution, pixels per inch (nom, nom_fi and proj maps)</p>

</dd>
<dt id="mag-arg"><b>--mag &lt;arg&gt;</b></dt>
<dd>

<p>Map magnification (nom, nom_fi, google_tile, tms_tile maps)</p>

</dd>
<dt id="north"><b>--north</b></dt>
<dd>

<p>Orient map to north (nom and nom_fi maps)</p>

</dd>
<dt id="margins-arg"><b>--margins &lt;arg&gt;</b></dt>
<dd>

<p>Map margins, pixels (&quot;nom&quot; and &quot;proj&quot; maps).</p>

</dd>
<dt id="top_margin-arg"><b>--top_margin &lt;arg&gt;</b></dt>
<dd>

<p>Override top margin value (&quot;nom&quot; and &quot;proj&quot; maps).</p>

</dd>
<dt id="left_margin-arg"><b>--left_margin &lt;arg&gt;</b></dt>
<dd>

<p>Override left margin value (&quot;nom&quot; and &quot;proj&quot; maps).</p>

</dd>
<dt id="right_margin-arg"><b>--right_margin &lt;arg&gt;</b></dt>
<dd>

<p>Override right margin value (&quot;nom&quot; and &quot;proj&quot; maps).</p>

</dd>
<dt id="bottom_margin-arg"><b>--bottom_margin &lt;arg&gt;</b></dt>
<dd>

<p>Override bottom margin value (&quot;nom&quot; and &quot;proj&quot; maps).</p>

</dd>
<dt id="zindex-arg"><b>--zindex &lt;arg&gt;</b></dt>
<dd>

<p>Tile zindex (&quot;*_tile&quot; maps). Can be skipped if tile argument has the form [x,y,z]</p>

</dd>
<dt id="tiles-arg"><b>--tiles &lt;arg&gt;</b></dt>
<dd>

<p>Tile or tile range (&quot;*_tile&quot; maps), [x,y], [x,y,z], or [x,y,w,h]</p>

</dd>
<dt id="coords-arg"><b>--coords &lt;arg&gt;</b></dt>
<dd>

<p>Figure in projection coordinates (rectangle or lines) to be covered by the map (&quot;proj&quot; maps). Figure can be a rectangle written as [x,y,w,h], or a line, [[x1,y1],[x2,y2], ...], or a multi-segment line, [&lt;line&gt;, &lt;line&gt;, ...].</p>

</dd>
<dt id="coords_wgs-arg"><b>--coords_wgs &lt;arg&gt;</b></dt>
<dd>

<p>Figure in wgs84 coordinates to be covered by the map (&quot;*_tile&quot; or &quot;proj&quot; maps), a rectangle, a line, or a multi-segment line.</p>

</dd>
<dt id="coords_file-arg"><b>--coords_file &lt;arg&gt;</b></dt>
<dd>

<p>Use tracks and points in the file to calculate map size (&quot;*_tile&quot; or &quot;proj&quot; maps).</p>

</dd>
<dt id="coords_nom-arg"><b>--coords_nom &lt;arg&gt;</b></dt>
<dd>

<p>Use Soviet nomenclature name calculate map size (&quot;*_tile&quot; or &quot;proj&quot; maps).</p>

</dd>
<dt id="border-arg"><b>--border &lt;arg&gt;</b></dt>
<dd>

<p>Map border in projection coordinates (For --mkref=&quot;proj&quot; maps), a line or a multi-segment line.</p>

</dd>
<dt id="proj-arg"><b>--proj &lt;arg&gt;</b></dt>
<dd>

<p>Projection setting, &quot;libproj&quot; parameter string (e.g. &quot;+datum=WGS84 +proj=lonlat&quot;) or mapsoft2 alias (&quot;WGS&quot;, &quot;WEB&quot;, &quot;FI&quot;, &quot;CH&quot;, &quot;SU39&quot;, etc.).Default is WGS.</p>

</dd>
<dt id="scale-arg"><b>--scale &lt;arg&gt;</b></dt>
<dd>

<p>Map scale, projection units per map cm (&quot;proj&quot; maps). Default value is 0.01 degree/cm for degree projections, 1000m/cm for metric projections.</p>

</dd>
<dt id="border_wgs-arg"><b>--border_wgs &lt;arg&gt;</b></dt>
<dd>

<p>Set map border in wgs84 coordinates (argument is a line or a multi-segment line).</p>

</dd>
<dt id="border_file-arg"><b>--border_file &lt;arg&gt;</b></dt>
<dd>

<p>Set map border from track in a file.</p>

</dd>
</dl>

<h2 id="Options-for-writing-fig-file">Options for writing fig file:</h2>

<dl>

<dt id="o---out-arg"><b>-o, --out &lt;arg&gt;</b></dt>
<dd>

<p>Output file.</p>

</dd>
<dt id="fig_enc-arg"><b>--fig_enc &lt;arg&gt;</b></dt>
<dd>

<p>Encoding for reading/writing fig files (default: KOI8-R). When reading utf8 files with a special comment (made by xfig&gt;3.2.9) this option is ignored.</p>

</dd>
<dt id="ref_templ-arg"><b>--ref_templ &lt;arg&gt;</b></dt>
<dd>

<p>Template for reference points (default: &quot;2 1 0 4 4 7 1 -1 -1 0.000 0 1 -1 0 0&quot;).</p>

</dd>
<dt id="brd_templ-arg"><b>--brd_templ &lt;arg&gt;</b></dt>
<dd>

<p>Template for border lines (default: &quot;2 3 0 1 5 7 2 -1 -1 0.000 0 0 7 0 0&quot;).</p>

</dd>
</dl>

<h1 id="EXAMPLES">EXAMPLES:</h1>

<p>Create standard map n30-068 (1km at 1cm) as a FIG file: &gt; ms2geofig create --mkref nom --name n30-068 -o n30-068.fig</p>

<h1 id="ADD----ADD-GEODATA-TRACKS-WAYPOINTS-MAPS-TO-REFERENCED-FIG-FILE">ADD -- ADD GEODATA (TRACKS, WAYPOINTS, MAPS) TO REFERENCED FIG FILE</h1>

<h1 id="SYNOPSIS2">SYNOPSIS</h1>

<pre><code>ms2vmap add [&lt;options&gt;] &lt;files&gt; -o &lt;output file&gt;</code></pre>

<h2 id="Options-for-reading-data">Options for reading data:</h2>

<dl>

<dt id="in_fmt-arg"><b>--in_fmt &lt;arg&gt;</b></dt>
<dd>

<p>Geodata input format (json, gu, gpx, kml, kmz, ozi, zip, mbtiles).</p>

</dd>
<dt id="gu_enc-arg"><b>--gu_enc &lt;arg&gt;</b></dt>
<dd>

<p>Garmin Utils format charset (default KOI8-R).</p>

</dd>
<dt id="ozi_enc-arg"><b>--ozi_enc &lt;arg&gt;</b></dt>
<dd>

<p>OziExplorer format charset (default Windows-1251).</p>

</dd>
</dl>

<h2 id="Options-for-writing-fig-file1">Options for writing fig file:</h2>

<dl>

<dt id="o---out-arg1"><b>-o, --out &lt;arg&gt;</b></dt>
<dd>

<p>Output file.</p>

</dd>
<dt id="fig_enc-arg1"><b>--fig_enc &lt;arg&gt;</b></dt>
<dd>

<p>Encoding for reading/writing fig files (default: KOI8-R). When reading utf8 files with a special comment (made by xfig&gt;3.2.9) this option is ignored.</p>

</dd>
<dt id="raw"><b>--raw</b></dt>
<dd>

<p>Convert tracks and points to fig as simple lines, without any additional information.</p>

</dd>
<dt id="trk_templ-arg"><b>--trk_templ &lt;arg&gt;</b></dt>
<dd>

<p>Template for track lines (default: &quot;2 1 0 1 1 7 7 0 -1 1 1 1 -1 0 0&quot;).</p>

</dd>
<dt id="wpt_templ-arg"><b>--wpt_templ &lt;arg&gt;</b></dt>
<dd>

<p>Template for waypoints (default: &quot;2 1 0 2 0 7 6 0 -1 1 1 1 -1 0 0&quot;).</p>

</dd>
<dt id="txt_templ-arg"><b>--txt_templ &lt;arg&gt;</b></dt>
<dd>

<p>Template for waypoint labels (default: &quot;4 0 8 5 -1 18 6 0.0000 4&quot;).</p>

</dd>
<dt id="map_tsize-arg"><b>--map_tsize &lt;arg&gt;</b></dt>
<dd>

<p>Tile size for raster maps (default 1024).</p>

</dd>
<dt id="map_depth-arg"><b>--map_depth &lt;arg&gt;</b></dt>
<dd>

<p>FIG depth for raster maps (default 500).</p>

</dd>
<dt id="map_marg-arg"><b>--map_marg &lt;arg&gt;</b></dt>
<dd>

<p>Margins for raster maps (pixels, default 50).</p>

</dd>
<dt id="map_dir-arg"><b>--map_dir &lt;arg&gt;</b></dt>
<dd>

<p>Directory for raster map tiles (default &lt;filename&gt;.img).</p>

</dd>
<dt id="compound"><b>--compound</b></dt>
<dd>

<p>Put all new objects into a fig compound.</p>

</dd>
<dt id="add_comm-arg"><b>--add_comm &lt;arg&gt;</b></dt>
<dd>

<p>Add a comment to all created fig objects.</p>

</dd>
<dt id="map_smooth-arg"><b>--map_smooth &lt;arg&gt;</b></dt>
<dd>

<p>Smooth map drawing, interpolation for small scales, averaging for large ones, (0|1, default - 0).</p>

</dd>
<dt id="map_clip_brd-arg"><b>--map_clip_brd &lt;arg&gt;</b></dt>
<dd>

<p>Clip map to its border (default 1).</p>

</dd>
<dt id="map_draw_refs-arg"><b>--map_draw_refs &lt;arg&gt;</b></dt>
<dd>

<p>Draw map reference points (ARGB color, default 0).</p>

</dd>
<dt id="map_draw_brd-arg"><b>--map_draw_brd &lt;arg&gt;</b></dt>
<dd>

<p>Draw map border (ARGB color, default 0).</p>

</dd>
<dt id="map_fade-arg"><b>--map_fade &lt;arg&gt;</b></dt>
<dd>

<p>Color to fade the map (default is 0, no fading).</p>

</dd>
<dt id="map_min_sc-arg"><b>--map_min_sc &lt;arg&gt;</b></dt>
<dd>

<p>Min scale (&lt;map pixels&gt;/&lt;image pixels&gt;) (default is 0.1).</p>

</dd>
<dt id="map_max_sc-arg"><b>--map_max_sc &lt;arg&gt;</b></dt>
<dd>

<p>Max scale (&lt;map pixels&gt;/&lt;image pixels&gt;) (default is 10).</p>

</dd>
<dt id="map_def_col-arg"><b>--map_def_col &lt;arg&gt;</b></dt>
<dd>

<p>Color to paint the map outside min_sc/max_sc (default is 0x80FF0000).</p>

</dd>
</dl>

<h1 id="EXAMPLES1">EXAMPLES:</h1>

<p>Add track to the file: &gt; ms2geofig add Current.gpx -o n30-068.fig</p>

<h1 id="DEL----DELETE-GEODATA-TO-REFERENCED-FIG-FILE">DEL -- DELETE GEODATA TO REFERENCED FIG FILE</h1>

<h1 id="SYNOPSIS3">SYNOPSIS</h1>

<pre><code>ms2vmap del [&lt;options&gt;] -o &lt;output file&gt;</code></pre>

<h2 id="Options-for-selecting-data">Options for selecting data:</h2>

<dl>

<dt id="W---wpts"><b>-W, --wpts</b></dt>
<dd>

<p>Delete waypoints.</p>

</dd>
<dt id="T---trks"><b>-T, --trks</b></dt>
<dd>

<p>Delete tracks.</p>

</dd>
<dt id="M---maps"><b>-M, --maps</b></dt>
<dd>

<p>Delete maps.</p>

</dd>
<dt id="A---all"><b>-A, --all</b></dt>
<dd>

<p>Delete waypoints, tracks, maps.</p>

</dd>
<dt id="R---ref"><b>-R, --ref</b></dt>
<dd>

<p>Delete reference.</p>

</dd>
</dl>

<h2 id="Options-for-writing-fig-file2">Options for writing fig file:</h2>

<dl>

<dt id="o---out-arg2"><b>-o, --out &lt;arg&gt;</b></dt>
<dd>

<p>Output file.</p>

</dd>
<dt id="fig_enc-arg2"><b>--fig_enc &lt;arg&gt;</b></dt>
<dd>

<p>Encoding for reading/writing fig files (default: KOI8-R). When reading utf8 files with a special comment (made by xfig&gt;3.2.9) this option is ignored.</p>

</dd>
</dl>

<h1 id="GET----EXTRACT-GEODATA-FROM-FIG-FILE">GET -- EXTRACT GEODATA FROM FIG FILE</h1>

<h1 id="SYNOPSIS4">SYNOPSIS</h1>

<pre><code>ms2vmap get [&lt;options&gt;] &lt;fig file&gt; -o &lt;output file&gt;</code></pre>

<h2 id="Options-for-selecting-data1">Options for selecting data:</h2>

<dl>

<dt id="W---wpts1"><b>-W, --wpts</b></dt>
<dd>

<p>Get waypoints.</p>

</dd>
<dt id="T---trks1"><b>-T, --trks</b></dt>
<dd>

<p>Get tracks.</p>

</dd>
<dt id="M---maps1"><b>-M, --maps</b></dt>
<dd>

<p>Get maps.</p>

</dd>
<dt id="A---all1"><b>-A, --all</b></dt>
<dd>

<p>Get waypoints, tracks, maps.</p>

</dd>
<dt id="R---ref1"><b>-R, --ref</b></dt>
<dd>

<p>Get fig reference.</p>

</dd>
</dl>

<h2 id="Options-for-writing-geodata-file">Options for writing geodata file:</h2>

<dl>

<dt id="o---out-arg3"><b>-o, --out &lt;arg&gt;</b></dt>
<dd>

<p>Output file.</p>

</dd>
<dt id="out_fmt-arg"><b>--out_fmt &lt;arg&gt;</b></dt>
<dd>

<p>Geodata output format (json, gu, gpx, kml, kmz, ozi, zip).</p>

</dd>
<dt id="xml_compr-arg"><b>--xml_compr &lt;arg&gt;</b></dt>
<dd>

<p>Compress XML output (GPX and KML formats), default 0.</p>

</dd>
<dt id="xml_indent-arg"><b>--xml_indent &lt;arg&gt;</b></dt>
<dd>

<p>Use XML indentation (GPX and KML formats), default 1.</p>

</dd>
<dt id="xml_ind_str-arg"><b>--xml_ind_str &lt;arg&gt;</b></dt>
<dd>

<p>XML indentation string (GPX and KML formats), default &#39; &#39;.</p>

</dd>
<dt id="xml_qchar-arg"><b>--xml_qchar &lt;arg&gt;</b></dt>
<dd>

<p>XML quoting character (GPX and KML formats), default &#39;&#39;&#39;.</p>

</dd>
<dt id="gpx_write_rte-arg"><b>--gpx_write_rte &lt;arg&gt;</b></dt>
<dd>

<p>Write waypoint lists as routes (GPX format), default 0.</p>

</dd>
<dt id="json_sort_keys-arg"><b>--json_sort_keys &lt;arg&gt;</b></dt>
<dd>

<p>Sort json objects by keys (GeoJSON format), default 1.</p>

</dd>
<dt id="json_compact-arg"><b>--json_compact &lt;arg&gt;</b></dt>
<dd>

<p>Write compact json (GeoJSON format), default 0.</p>

</dd>
<dt id="json_indent-arg"><b>--json_indent &lt;arg&gt;</b></dt>
<dd>

<p>Use json indentation (GeoJSON format), default 1.</p>

</dd>
<dt id="ozi_map_grid-arg"><b>--ozi_map_grid &lt;arg&gt;</b></dt>
<dd>

<p>Write map reference points in grid coordinates (OziExplorer format), default 0</p>

</dd>
<dt id="ozi_map_wgs-arg"><b>--ozi_map_wgs &lt;arg&gt;</b></dt>
<dd>

<p>Always use wgs84 datum for map coordinates (OziExplorer format), default 0</p>

</dd>
<dt id="gu_enc-arg1"><b>--gu_enc &lt;arg&gt;</b></dt>
<dd>

<p>Garmin Utils format charset (default KOI8-R).</p>

</dd>
<dt id="ozi_enc-arg1"><b>--ozi_enc &lt;arg&gt;</b></dt>
<dd>

<p>OziExplorer format charset (default Windows-1251).</p>

</dd>
</dl>

<h1 id="SRTM----ADD-DEM-DATA-TO-REFERENCED-FIG-FILE">SRTM -- ADD DEM DATA TO REFERENCED FIG FILE</h1>

<h1 id="SYNOPSIS5">SYNOPSIS</h1>

<pre><code>ms2vmap srtm [&lt;options&gt;] -o &lt;output file&gt;</code></pre>

<h2 id="Options-for-writing-DEM-data">Options for writing DEM data:</h2>

<dl>

<dt id="srtm_dir-arg"><b>--srtm_dir &lt;arg&gt;</b></dt>
<dd>

<p>Set srtm data folder, default - $HOME/.srtm_data</p>

</dd>
<dt id="srtm_use_overlay-arg"><b>--srtm_use_overlay &lt;arg&gt;</b></dt>
<dd>

<p>Use overlay (0|1, default 1).</p>

</dd>
<dt id="srtm_interp-arg"><b>--srtm_interp &lt;arg&gt;</b></dt>
<dd>

<p>Interpolation (nearest, linear, cubic. Default: linear).</p>

</dd>
<dt id="cnt-arg"><b>--cnt &lt;arg&gt;</b></dt>
<dd>

<p>Make contours, default: 1</p>

</dd>
<dt id="cnt_step-arg"><b>--cnt_step &lt;arg&gt;</b></dt>
<dd>

<pre><code>Contour step [m], default: 100</code></pre>

</dd>
<dt id="cnt_vtol-arg"><b>--cnt_vtol &lt;arg&gt;</b></dt>
<dd>

<pre><code>Tolerance for smoothing contours [m], default: 5.0</code></pre>

</dd>
<dt id="cnt_rmin-arg"><b>--cnt_rmin &lt;arg&gt;</b></dt>
<dd>

<pre><code>Radius for smoothing contours [srtm grid units], default: 10.0</code></pre>

</dd>
<dt id="cnt_smult-arg"><b>--cnt_smult &lt;arg&gt;</b></dt>
<dd>

<pre><code>Thick contour multiplier, default: 5, every 5th contour is thick</code></pre>

</dd>
<dt id="cnt_templ1-arg"><b>--cnt_templ1 &lt;arg&gt;</b></dt>
<dd>

<pre><code>FIG template for contours, default: 2 1 0 1 #D0B090 7 90 -1 -1 0.000 1 1 0 0 0</code></pre>

</dd>
<dt id="cnt_templ2-arg"><b>--cnt_templ2 &lt;arg&gt;</b></dt>
<dd>

<pre><code>FIG template for thick contours, default: 2 1 0 2 #D0B090 7 90 -1 -1 0.000 1 1 0 0 0</code></pre>

</dd>
<dt id="scnt-arg"><b>--scnt &lt;arg&gt;</b></dt>
<dd>

<p>Make large slope contours, default: 1</p>

</dd>
<dt id="scnt_val-arg"><b>--scnt_val &lt;arg&gt;</b></dt>
<dd>

<pre><code>Threshold value for slope contour, [deg], default: 35</code></pre>

</dd>
<dt id="scnt_vtol-arg"><b>--scnt_vtol &lt;arg&gt;</b></dt>
<dd>

<pre><code>Tolerance for smoothing slope contours [deg], default: 5.0</code></pre>

</dd>
<dt id="scnt_rmin-arg"><b>--scnt_rmin &lt;arg&gt;</b></dt>
<dd>

<pre><code>Radius for smoothing slope contours [srtm grid units], default: 10.0</code></pre>

</dd>
<dt id="scnt_templ-arg"><b>--scnt_templ &lt;arg&gt;</b></dt>
<dd>

<pre><code>FIG template for large slopes, default: 2 3 0 1 24 24 91 -1 -1 0.000 1 1 7 0 0</code></pre>

</dd>
<dt id="peaks-arg"><b>--peaks &lt;arg&gt;</b></dt>
<dd>

<p>Make peaks points, default: 1</p>

</dd>
<dt id="peaks_dh-arg"><b>--peaks_dh &lt;arg&gt;</b></dt>
<dd>

<pre><code>DH parameter for peak finder [m], default: 20</code></pre>

</dd>
<dt id="peaks_ps-arg"><b>--peaks_ps &lt;arg&gt;</b></dt>
<dd>

<pre><code>PS parameter for peak finder [pts], default: 1000</code></pre>

</dd>
<dt id="peaks_templ-arg"><b>--peaks_templ &lt;arg&gt;</b></dt>
<dd>

<pre><code>FIG template for peaks, default: 2 1 0 3 24 7  57 -1 -1 0.000 0 1 -1 0 0</code></pre>

</dd>
<dt id="riv-arg"><b>--riv &lt;arg&gt;</b></dt>
<dd>

<p>Trace rivers, default: 0</p>

</dd>
<dt id="riv_ps-arg"><b>--riv_ps &lt;arg&gt;</b></dt>
<dd>

<pre><code>PS parameter for river tracing [pts], default: 10000</code></pre>

</dd>
<dt id="riv_mina-arg"><b>--riv_mina &lt;arg&gt;</b></dt>
<dd>

<pre><code>Sink area threshold for river tracing [mk^2], default: 1.0</code></pre>

</dd>
<dt id="riv_templ-arg"><b>--riv_templ &lt;arg&gt;</b></dt>
<dd>

<pre><code>FIG template for rivers, default: 2 1 0 1 #5066FF 7 86 -1 -1 0.000 1 1 0 0 0</code></pre>

</dd>
<dt id="mnt-arg"><b>--mnt &lt;arg&gt;</b></dt>
<dd>

<p>Trace mountain ridges (default: 0)</p>

</dd>
<dt id="mnt_ps-arg"><b>--mnt_ps &lt;arg&gt;</b></dt>
<dd>

<pre><code>PS parameter for ridge tracing [pts], default - 10000.</code></pre>

</dd>
<dt id="mnt_mina-arg"><b>--mnt_mina &lt;arg&gt;</b></dt>
<dd>

<pre><code>Sink area threshold for ridge tracing [mk^2], default: 0.5</code></pre>

</dd>
<dt id="mnt_templ-arg"><b>--mnt_templ &lt;arg&gt;</b></dt>
<dd>

<pre><code>FIG template for ridges, default: 2 1 0 2 26 7 89 -1 -1 0.000 1 1 0 0 0</code></pre>

</dd>
<dt id="replace"><b>--replace</b></dt>
<dd>

<p>Remove existing objects before adding new ones.</p>

</dd>
<dt id="compound1"><b>--compound</b></dt>
<dd>

<p>Put all new objects into a fig compound.</p>

</dd>
<dt id="add_comm-arg1"><b>--add_comm &lt;arg&gt;</b></dt>
<dd>

<p>Add a comment to all created fig objects.</p>

</dd>
<dt id="crop_nom-arg"><b>--crop_nom &lt;arg&gt;</b></dt>
<dd>

<p>Crop objects to nomenclature region.</p>

</dd>
<dt id="crop_rect-arg"><b>--crop_rect &lt;arg&gt;</b></dt>
<dd>

<p>Crop objects to a rectangle.</p>

</dd>
<dt id="line_flt-arg"><b>--line_flt &lt;arg&gt;</b></dt>
<dd>

<p>tolerance for RDP line filtering [fig units], default 5.</p>

</dd>
</dl>

<h2 id="Options-for-writing-fig-file3">Options for writing fig file:</h2>

<dl>

<dt id="o---out-arg4"><b>-o, --out &lt;arg&gt;</b></dt>
<dd>

<p>Output file.</p>

</dd>
<dt id="fig_enc-arg3"><b>--fig_enc &lt;arg&gt;</b></dt>
<dd>

<p>Encoding for reading/writing fig files (default: KOI8-R). When reading utf8 files with a special comment (made by xfig&gt;3.2.9) this option is ignored.</p>

</dd>
</dl>

<h1 id="MAKE_REF----MAKE-FIG-REFERENCE-USING-MATCHING-GEODATA">MAKE_REF -- MAKE FIG REFERENCE USING MATCHING GEODATA</h1>

<h1 id="SYNOPSIS6">SYNOPSIS</h1>

<pre><code>ms2vmap make_ref [&lt;options&gt;] &lt;files&gt; -o &lt;output file&gt;</code></pre>

<p>Fig file should contain track or waypoint objects (lines or points with TRK &lt;name&gt; or WPT &lt;name&gt; comment) with same name as in the geodata. For each point of such data a reference point is added.</p>

<p>This can be used to make reference for a map: add raster image witn &quot;MAP &lt;name&gt;&quot; comment; optionally draw border with &quot;BRD &lt;name&gt;&quot; comment; draw a line through some points with &quot;TRK &lt;name1&gt;&quot; comment; somewhere else make a track through same points on a referenced map with &lt;name1&gt; name; do make_ref &lt;track file&gt; -o &lt;fig file&gt;; extract map reference from fig file using ms2geofig get -M &lt;fig file&gt; -o &lt;map file&gt;.</p>

<h2 id="Options-for-reading-data1">Options for reading data:</h2>

<dl>

<dt id="in_fmt-arg1"><b>--in_fmt &lt;arg&gt;</b></dt>
<dd>

<p>Geodata input format (json, gu, gpx, kml, kmz, ozi, zip, mbtiles).</p>

</dd>
<dt id="gu_enc-arg2"><b>--gu_enc &lt;arg&gt;</b></dt>
<dd>

<p>Garmin Utils format charset (default KOI8-R).</p>

</dd>
<dt id="ozi_enc-arg2"><b>--ozi_enc &lt;arg&gt;</b></dt>
<dd>

<p>OziExplorer format charset (default Windows-1251).</p>

</dd>
</dl>

<h2 id="Options-for-writing-fig-file4">Options for writing fig file:</h2>

<dl>

<dt id="o---out-arg5"><b>-o, --out &lt;arg&gt;</b></dt>
<dd>

<p>Output file.</p>

</dd>
<dt id="fig_enc-arg4"><b>--fig_enc &lt;arg&gt;</b></dt>
<dd>

<p>Encoding for reading/writing fig files (default: KOI8-R). When reading utf8 files with a special comment (made by xfig&gt;3.2.9) this option is ignored.</p>

</dd>
</dl>

<h1 id="AUTHOR">AUTHOR</h1>

<p>Vladislav Zavjalov &lt;slazav@altlinux.org&gt;</p>

<h1 id="SEE-ALSO">SEE ALSO</h1>

<ul>

<li><p><a href="http://slazav.github.io/mapsoft2">Mapsoft2 documentation (ru, en)</a></p>

</li>
<li><p><a href="http://github.com/slazav/mapsoft2">Mapsoft2 source code, bugtracker</a></p>

</li>
<li><p><a href="http://github.com/ushakov/mapsoft">Old Mapsoft project</a></p>

</li>
</ul>


</body>

</html>


